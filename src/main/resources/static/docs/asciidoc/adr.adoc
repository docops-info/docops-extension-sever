include::_base.adoc[]
:enable-navigation:
:page-navigation: true
:next-page-title: Architecture
:next-page-url: arch.html
= DocOps ADR

image::icons/ADRIcon.svg[ADR Icon,80,80]

[[top]]

== Showcase

link:adrshowcase.html[Showcase,target=_blank]

== Introduction

_Document architectural choices with context, decisions, and consequences_

*Key features:*

* Structured format (Context, Decision, Consequences, Participants)
* Status tracking (Proposed, Accepted, Superseded, Deprecated, Rejected)
* Participant visualization with roles
* Wiki-style links for references
* Dark mode for presentations

== Default Example

Basic architectural decision for search functionality:

[source,asciidoc]
....
[docops,adr,role=center]
----
title: Use Elasticsearch for Search Functionality
status: Accepted
date: 2024-05-15
context:
- Our application needs robust search capabilities across multiple data types
- We need to support full-text search with relevance ranking
- The search functionality must scale with growing data volumes
- We need to support faceted search and filtering
decision:
- We will use Elasticsearch as our search engine
- We will integrate it with our existing PostgreSQL database
- We will implement a synchronization mechanism to keep data in sync
consequences:
- Improved search performance and capabilities
- Additional infrastructure to maintain
- Need for expertise in Elasticsearch configuration and optimization
- Potential complexity in keeping data synchronized
participants: Jane Smith (Architect), John Doe (Developer), Alice Johnson (Product Manager), Mike Brown (DBA)
----
....

[docops,adr,role=center]
----
include::data/adr1.txt[]
----

[.back-to-top]
<<top, üîù>>

== Focused Examples


=== Microservices Migration (Dark Mode)

[source,asciidoc]
....
[docops,adr,useDark=true,role=center]
----
title: Adopt Microservices Architecture
status: Accepted
date: 2024-06-01
context:
- Our monolithic application is becoming difficult to maintain and scale
- Development teams need to work independently on different parts of the system
- We need to improve deployment frequency and reduce time-to-market
- Different components have different scaling requirements
decision:
- We will gradually migrate from monolith to microservices architecture
- We will use [[https://martinfowler.com/bliki/DomainDrivenDesign.html domain-driven design]] to identify service boundaries
- We will implement an [[https://aws.amazon.com/api-gateway API gateway]] for client communication
- We will use containerization ([[https://www.docker.com/ Docker]]) and orchestration ([[https://kubernetes.io/ Kubernetes]])
consequences:
- Improved scalability and resilience
- Faster development cycles and independent deployments
- Increased operational complexity
- Need for robust service discovery and monitoring
participants: Michael Chen (Chief Architect), Sarah Johnson (DevOps Lead), David Wilson (Development Manager)
----
....

[docops,adr,useDark=true,role=center,controls="true"]
----
include::data/adr2.txt[]
----

[.back-to-top]
<<top, üîù>>

=== GraphQL Adoption with References

[source,asciidoc]
....
[docops,adr,role=center]
----
title: Adopt GraphQL for API Layer
status: Accepted
date: 2024-07-15
context:
- Our REST APIs have become complex with many endpoints
- Mobile clients need to fetch data from multiple endpoints
- Different clients need different data shapes
- We need to reduce over-fetching and under-fetching of data
decision:
- We will adopt GraphQL for our API layer
- We will maintain existing REST endpoints for backward compatibility
- We will implement a gradual migration strategy
- We will use Apollo Server for the GraphQL implementation
consequences:
- More efficient data fetching for clients
- Improved developer experience with self-documenting API
- Potential learning curve for the team
- Need for new tooling and monitoring
participants:
Alex Rivera | API Architect | alex.rivera@example.com | #4F46E5
Jasmine Wong | Frontend Lead | jasmine.wong@example.com | #059669
David Kim | Backend Developer | david.kim@example.com | #D97706
references:
[[https://graphql.org/ GraphQL Official Documentation]]
[[https://www.apollographql.com/docs/ Apollo GraphQL Documentation]]
[[https://engineering.example.com/graphql-best-practices GraphQL Best Practices]]
----
....

[docops,adr,role=center]
----
include::data/adr9.txt[]
----

[.back-to-top]
<<top, üîù>>

== Common Use Cases

* *Architecture decisions* - Database selection, framework choices, deployment strategies
* *Technology evaluations* - Compare alternatives with documented rationale
* *Migration planning* - Record phased approach and rollback strategies
* *Security policies* - Authentication methods, encryption standards
* *Team onboarding* - Historical context for current architecture

[.back-to-top]
<<top, üîù>>

== Format Options

=== Basic Structure
[source,asciidoc]
....
[docops,adr]
----
title: Decision Title
status: Accepted
date: 2024-01-15
context:
- Context point 1
- Context point 2
decision:
- Decision point 1
- Decision point 2
consequences:
- Consequence 1
- Consequence 2
participants: Name (Role), Name (Role)
----
....

=== With Structured Participants
[source,asciidoc]
....
participants:
Name | Title | email@example.com | #color | emoji
----
....

=== With References
[source,asciidoc]
....
references:
[[https://example.com/doc Documentation Title]]
[[https://example.com/standard Coding Standards]]
----
....

[cols="1,2"]
|===
|Option |Purpose

|title
|Decision heading

|status
|Proposed, Accepted, Superseded, Deprecated, Rejected

|date
|Decision date (YYYY-MM-DD)

|context
|Factors influencing the decision (list)

|decision
|Actual decisions made (list)

|consequences
|Results and implications (list)

|participants
|People involved (comma-separated or structured)

|references
|Wiki-style links to related docs

|useDark=true
|Dark theme
|===

[.back-to-top]
<<top, üîù>>

== Status Types

[cols="1,1,3"]
|===
|Status |Color |Meaning

|Proposed
|Blue (#6366F1)
|Decision being considered

|Accepted
|Green (#10B981)
|Decision approved and active

|Superseded
|Amber (#F59E0B)
|Replaced by newer decision

|Deprecated
|Red (#EF4444)
|No longer relevant

|Rejected
|Dark Red (#DC2626)
|Decision not approved
|===

[.back-to-top]
<<top, üîù>>

== Participant Formats

=== Simple Format
[source]
----
participants: Jane Smith (Architect), John Doe (Developer)
----

=== Structured Format
[source]
----
participants:
Name | Title | email | #color | emoji
Jane Smith | Architect | jane@example.com | #6366F1 | üë©‚Äçüíª
----

* Structured format enables email links (Teams integration)
* Custom colors and emojis for visual distinction
* Multiline support for better readability

[.back-to-top]
<<top, üîù>>

== Best Practices

* *Keep context concise* - 3-5 bullet points explaining "why now"
* *Make decisions actionable* - "We will use X" not "We could use X"
* *List trade-offs in consequences* - Both positive and negative outcomes
* *Link to supporting docs* - Use references for detailed analysis
* *Update status, don't edit* - Create new ADR to supersede old ones
* *Include key participants* - Decision-makers and implementers

[TIP]
====
*For architecture decisions:* Use status=Proposed during review, then update to Accepted after team consensus. If circumstances change, create a new ADR with status=Superseded pointing to the original. This maintains decision history and traceability.
====

[.back-to-top]
<<top, üîù>>
