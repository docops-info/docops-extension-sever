include::_base.adoc[]
= DocOps Treemap Visualizations
:imagesdir: images

image::icons/TreemapIcon.svg[Treemap Icon,80,80]




[[top]]
include::shared/buttons.adoc[]

== Introduction

_Proportional rectangles for budget allocations, market share, and resource distribution_

*Key features:*

* Nested rectangles sized by value
* Hierarchical data with proportional relationships
* Multiple themes (modern, brutalist) and color palettes
* Dark mode for presentations
* Automatic percentage and value display

[.back-to-top]
<<top, ðŸ”>>

== Default Example

Project budget allocation across departments:

[source,asciidoc]
....
[docops,treemap,controls=true]
----
title=Project Portfolio 2024
subtitle=BUDGET ALLOCATION BY DEPARTMENT
width=1200
height=800
theme=modern
paletteType=PASTEL
showValues=true
showPercentages=true
---
Engineering | 2400000 | Development & Infrastructure | | $2.4M
Product | 980000 | Design & Research | | $980K
Marketing | 1200000 | Growth & Brand | | $1.2M
Sales | 720000 | Revenue Operations | | $720K
Operations | 420000 | Support | | $420K
----
....

[docops,treemap,controls=true]
----
title=Project Portfolio 2024
subtitle=BUDGET ALLOCATION BY DEPARTMENT
width=1200
height=800
theme=modern
paletteType=PASTEL
showValues=true
showPercentages=true
---
Engineering | 2400000 | Development & Infrastructure | | $2.4M
Product | 980000 | Design & Research | | $980K
Marketing | 1200000 | Growth & Brand | | $1.2M
Sales | 720000 | Revenue Operations | | $720K
Operations | 420000 | Support | | $420K
----

[.back-to-top]
<<top, ðŸ”>>

== Focused Examples

=== Cloud Infrastructure Costs (Dark Mode)

Monthly AWS spending breakdown:

[source,asciidoc]
....
[docops,treemap,useDark=true,controls=true]
----
title=Cloud Infrastructure Costs
subtitle=MONTHLY AWS SPENDING BREAKDOWN
width=1200
height=800
theme=modern
paletteType=PASTEL
showValues=true
showPercentages=true
---
EC2 Instances | 45000 | Compute resources | | $45K
RDS Databases | 28000 | Database hosting | | $28K
S3 Storage | 12000 | Object storage | | $12K
CloudFront CDN | 8500 | Content delivery | | $8.5K
Lambda Functions | 6200 | Serverless compute | | $6.2K
EBS Volumes | 5800 | Block storage | | $5.8K
ElastiCache | 4500 | In-memory caching | | $4.5K
Data Transfer | 3200 | Network egress | | $3.2K
Route 53 | 1800 | DNS services | | $1.8K
----
....

[docops,treemap,useDark=true,controls=true]
----
title=Cloud Infrastructure Costs
subtitle=MONTHLY AWS SPENDING BREAKDOWN
width=1200
height=800
theme=modern
paletteType=PASTEL
showValues=true
showPercentages=true
---
EC2 Instances | 45000 | Compute resources | | $45K
RDS Databases | 28000 | Database hosting | | $28K
S3 Storage | 12000 | Object storage | | $12K
CloudFront CDN | 8500 | Content delivery | | $8.5K
Lambda Functions | 6200 | Serverless compute | | $6.2K
EBS Volumes | 5800 | Block storage | | $5.8K
ElastiCache | 4500 | In-memory caching | | $4.5K
Data Transfer | 3200 | Network egress | | $3.2K
Route 53 | 1800 | DNS services | | $1.8K
----

[.back-to-top]
<<top, ðŸ”>>

=== Market Share Analysis

Global smartphone market distribution:

[source,asciidoc]
....
[docops,treemap,controls=true]
----
title=Smartphone Market Share 2024
subtitle=GLOBAL MARKET DISTRIBUTION
width=1200
height=800
theme=modern
paletteType=OCEAN_BREEZE
showValues=true
showPercentages=true
---
Samsung | 285 | South Korean electronics | | 28.5%
Apple | 243 | Premium smartphones | | 24.3%
Xiaomi | 156 | Value-focused brand | | 15.6%
Oppo | 98 | Chinese manufacturer | | 9.8%
Vivo | 87 | BBK Electronics brand | | 8.7%
Others | 131 | Various manufacturers | | 13.1%
----
....

[docops,treemap,controls=true]
----
title=Smartphone Market Share 2024
subtitle=GLOBAL MARKET DISTRIBUTION
width=1200
height=800
theme=modern
paletteType=OCEAN_BREEZE
showValues=true
showPercentages=true
---
Samsung | 285 | South Korean electronics | | 28.5%
Apple | 243 | Premium smartphones | | 24.3%
Xiaomi | 156 | Value-focused brand | | 15.6%
Oppo | 98 | Chinese manufacturer | | 9.8%
Vivo | 87 | BBK Electronics brand | | 8.7%
Others | 131 | Various manufacturers | | 13.1%
----

[.back-to-top]
<<top, ðŸ”>>

== Common Use Cases

* *Budget allocations* - Visualize department spending or project costs
* *Cloud cost analysis* - Track AWS, Azure, or GCP service expenses
* *Market share* - Display competitive landscape proportions
* *Disk space usage* - Show storage consumption by category
* *Portfolio composition* - Asset allocation for investments

[.back-to-top]
<<top, ðŸ”>>

== Format Options

=== Basic Structure
[source,asciidoc]
....
[docops,treemap]
----
title=Chart Title
subtitle=Optional Subtitle
width=1200
height=800
theme=modern
paletteType=OCEAN_BREEZE
showValues=true
---
Category | Value | Description | | Metric
----
....

=== Theme Variations
[source,asciidoc]
....
// Modern (default)
theme=modern

// Brutalist (high-contrast)
theme=brutalist
....

[cols="1,2"]
|===
|Option |Purpose

|title
|Main chart heading

|subtitle
|Secondary heading (all caps recommended)

|width / height
|Canvas dimensions (default: 1200x800)

|theme
|"modern" or "brutalist"

|paletteType
|Color scheme (OCEAN_BREEZE, SUNSET, PASTEL, etc.)

|showValues
|Display numeric values on rectangles

|showPercentages
|Display percentage on rectangles

|useDark=true
|Dark theme for presentations
|===

[.back-to-top]
<<top, ðŸ”>>

== Data Format

Pipe-separated values:

[source]
----
Label | Value | Description | Color | Metric
----

* *Label* (required) - Category name
* *Value* (required) - Numeric value for rectangle sizing
* *Description* (optional) - Tooltip context
* *Color* (optional) - Custom hex color (leave empty for palette)
* *Metric* (optional) - Formatted display value (e.g., "$2.4M", "28.5%")

[.back-to-top]
<<top, ðŸ”>>

== Color Palettes

[cols="1,3"]
|===
|Palette |Best For

|OCEAN_BREEZE
|Blues and teals - tech/cloud themes

|SUNSET
|Warm oranges/reds - finance/energy

|FOREST
|Greens/earth tones - sustainability

|VIBRANT
|High-saturation - marketing/creative

|PROFESSIONAL
|Muted colors - business reports

|PASTEL
|Soft colors - general purpose

|TABLEAU
|Data viz standard - analytics
|===

[.back-to-top]
<<top, ðŸ”>>

== Best Practices

* *Limit to 6-10 categories* - Too many small rectangles reduce readability
* *Use subtitle for context* - "MONTHLY AWS SPENDING BREAKDOWN" clarifies the data
* *Format metric values* - "$2.4M" is clearer than "2400000"
* *Choose semantic palettes* - OCEAN_BREEZE for cloud, SUNSET for finance
* *Large value ranges work best* - Biggest category should be 3-5x smallest for visual impact
* *Dark mode for presentations* - Better contrast on projectors

[TIP]
====
*For cloud cost analysis:* Use PASTEL palette with dark mode. Group small services (<$1K/month) into "Other" to keep the treemap focused on major cost drivers. Add descriptions with service purpose for better decision-making.
====

[.back-to-top]
<<top, ðŸ”>>
