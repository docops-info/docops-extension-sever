<!DOCTYPE html>
<html lang="en">
<head>
<title>Echart Demo</title>
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <!-- CSS Reset -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <!-- Milligram CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.2/dist/echarts.js"></script>
    <script src="../../editor/js/theme.js"></script>
    <style>
        .Header {
            margin-bottom: 200px;
        }
    </style>
</head>
<body>
<header class="Header">
    <span class ='nav-heading nav-brand' ><img src="/static/images/docops.svg" alt="logo" height="64" width="64"/></span>
    <input type ='checkbox' class = 'menu-toggle' id ='menu-toggle'>
    <nav class= 'header'>
        <ul>
            <li><a href='http://docops.io'>DocOps.io</a></li>
            <li><a href='/editor/index.html'>Editor</a></li>
            <li><a href='/editor/dataset.html'>Dataset</a></li>
            <li><a href='/editor/chart.html'>Chart</a></li>
            <li><a href='/editor/treechart.html'>Tree Chart</a></li>
            <li><a href='/editor/stacked.html'>Stacked</a></li>
            <li><a href='/static/echart/demo.html'>Demo Echart</a></li>
        </ul>
    </nav>
    <label for='menu-toggle' class='menu-nav-toggle'>
        <span>  </span>
    </label>
</header>
<main class="Main">
<div id="drill" style="width: 800px; height: 500px;"></div>
<script>
    myChart = echarts.init(document.getElementById('drill'));
    var barColors = [
        ['rgba(176,196,222, 0.3)', 'rgba(176,196,222, 1)'],
        ['rgba(220,20,60, 0.3)', 'rgba(220,20,60, 1)'],
        ['rgba(189,183,107, 0.3)', 'rgba(189,183,107, 1)'],
        ['rgba(47,79,79, 0.3)', 'rgba(47,79,79, 1)'],
        ['rgba(30,144,255, 0.3)', 'rgba(30,144,255, 1)'],
        ['rgba(112,128,144, 0.3)', 'rgba(112,128,144, 1)'],
    ];
    option = {
        xAxis: {
            data: ['Animals', 'Fruits', 'Cars']
        },
        yAxis: {},
        dataGroupId: '',
        animationDurationUpdate: 500,
        series: {
            type: 'bar',
            id: 'sales',
            itemStyle: {
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                    {offset: 0, color: '#83bff6'},
                    {offset: 0.5, color: '#188df0'},
                    {offset: 1, color: '#188df0'}
                ])
            },
            data: [
                {
                    value: 5,
                    groupId: 'animals',
                    itemStyle: {
                        color: barColors[1]
                    }
                },
                {
                    value: 2,
                    groupId: 'fruits'
                },
                {
                    value: 4,
                    groupId: 'cars'
                }
            ],
            universalTransition: {
                enabled: true,
                divideShape: 'clone'
            }
        }
    };
    const drilldownData = [
        {
            dataGroupId: 'animals',
            data: [
                ['Cats', 4],
                ['Dogs', 2],
                ['Cows', 1],
                ['Sheep', 2],
                ['Pigs', 1]
            ]
        },
        {
            dataGroupId: 'fruits',
            data: [
                ['Apples', 4],
                ['Oranges', 2]
            ]
        },
        {
            dataGroupId: 'cars',
            data: [
                ['Toyota', 4],
                ['Opel', 2],
                ['Volkswagen', 2]
            ]
        }
    ];
    myChart.on('click', function (event) {
        if (event.data) {
            var subData = drilldownData.find(function (data) {
                return data.dataGroupId === event.data.groupId;
            });
            if (!subData) {
                return;
            }
            myChart.setOption({
                xAxis: {
                    data: subData.data.map(function (item) {
                        return item[0];
                    })
                },
                series: {
                    type: 'bar',
                    id: 'sales',
                    dataGroupId: subData.dataGroupId,
                    data: subData.data.map(function (item) {
                        return item[1];
                    }),
                    universalTransition: {
                        enabled: true,
                        divideShape: 'clone'
                    }
                },
                graphic: [
                    {
                        type: 'text',
                        left: 50,
                        top: 20,
                        style: {
                            text: 'Back',
                            fontSize: 18
                        },
                        onclick: function () {
                            myChart.setOption(option);
                        }
                    }
                ]
            });
        }
    });
    myChart.setOption(option);
</script>
<div id="drill2" style="width: 800px; height: 500px;"></div>

<script>
    myChart = echarts.init(document.getElementById('drill2'), 'shine');
    option = {
        title: {
            text: 'World Population'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'shadow'
            }
        },
        legend: {},
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: {
            type: 'value',
            boundaryGap: [0, 0.01]
        },
        yAxis: {
            type: 'category',
            data: ['Brazil', 'Indonesia', 'USA', 'India', 'China', 'World']
        },
        series: [
            {
                name: 'group-1',
                type: 'bar',
                data: [18203, 23489, 29034, 104970, 131744, 630230]
            },
            {
                name: 'group-2',
                type: 'bar',
                data: [19325, 23438, 31000, 121594, 134141, 681807]
            }
        ]
    };
    myChart.setOption(option);
</script>

<div id="tree" style="width: 800px; height: 500px;"></div>

<script>
    myChart = echarts.init(document.getElementById('tree'), 'shine');
    myChart.showLoading();
    var data = {
        "name": "Product Range",
        "children": [{
            "name": "USB Converter",
            "children": [{"name": "USB 3.0 Converter"}, {
                "name": "USB 2.0 Converter",
                "children": [{"name": "USB 2 Serial"}, {"name": "USB 2 RS485"}, {"name": "USB 2 Dual Serial"}, {"name": "USB 2 MIDI"}]
            }]
        }, {"name": "HDMI"}]
    };

    myChart.hideLoading();
    data.children.forEach(function (datum, index) {
        index % 2 === 0 && (datum.collapsed = true);
    });
    myChart.setOption(
        (option = {
            tooltip: {
                trigger: 'item',
                triggerOn: 'mousemove'
            },
            label: {
                show: true
            },
            legend: {},
            toolbox: {
                show: true,
                feature: {
                    restore: {},
                    saveAsImage: {}
                }
            },
            series: [
                {
                    type: 'tree',
                    data: [data],
                    top: '1%',
                    left: '7%',
                    bottom: '1%',
                    right: '20%',
                    symbolSize: 7,
                    label: {
                        position: 'left',
                        verticalAlign: 'middle',
                        align: 'right',
                        fontSize: 9
                    },
                    leaves: {
                        label: {
                            position: 'right',
                            verticalAlign: 'middle',
                            align: 'left'
                        }
                    },
                    emphasis: {
                        focus: 'descendant'
                    },
                    expandAndCollapse: true,
                    animationDuration: 550,
                    animationDurationUpdate: 750
                }
            ]
        })
    );

</script>
</main>
</body>
</html>

