<h1>Charts Editor</h1>

<button class="button-success pure-button"   onclick="copyTextToClipboard(editor.getValue());">Copy</button>
<button class="button-secondary pure-button" onclick="copyTextToClipboard(makeAdoc(editor.getValue()))">Copy as AsciiDoc</button>
<button class="button-secondary pure-button" onclick="downloadBlob('snippet.kts')">Download Snippet</button>
<br/>
<br/>
<div class="pure-g">
    <div class="pure-u-8-24">
<div id="editor">
barChart {
        title = "Hello"
        subTitle = "World"
        xAxisLabel=""
        yAxisLabel=""
        data {
            name = "Animals"
            value = 5.0
            nv("Cats", 4.0)
            nv("Dogs", 2.0)
            nv("Cows", 1.0)
            nv("Sheep", 2.0)
            nv("Pigs", 1.0)
        }
        data {
            name = "Fruits"
            value = 2.0
            nv("Apples", 4.0)
            nv("Oranges", 2.0)
        }
}
</div>

    </div>
    <div class="pure-u-16-24">
        <h3>Preview</h3>
        <div id="results"></div>
    </div>
</div>

<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/clouds");
    editor.session.setMode("ace/mode/kotlin");
    editor.setShowPrintMargin(false);
    editor.getSession().setUseWrapMode(true);
    editor.setOptions({
        maxLines: 22
    });
    function showHTMLInIFrame() {
        getImage("api/bar", 'results');
    }
    editor.on("input", showHTMLInIFrame);
</script>
<br/>

<a id="chart" class="pure-button pure-button-primary pure-button-active" data-hx-get="chart.html" data-hx-target="'#contentBoxPanel'" data-hx-swap-oob="true">Bar Chart</a></li>
<a id="treechart" class="pure-button" data-hx-get="treechart.html" data-hx-target="'#contentBoxPanel'" data-hx-swap-oob="true">Tree Chart</a></li>
<a id="stacked" class="pure-button" data-hx-get="stacked.html" data-hx-target="'#contentBoxPanel'" data-hx-swap-oob="true">Stacked</a></li>
<a id="mychart" class="pure-button" data-hx-get="mychart.html" data-hx-target="'#contentBoxPanel'" data-hx-swap-oob="true">My Custom EChart</a></li>

