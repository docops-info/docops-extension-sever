include::_base.adoc[]
:enable-navigation:
:page-navigation: true
:prev-page-title: Flow
:prev-page-url: flow.html
:next-page-title: Index
:next-page-url: index.html
= ðŸ¥’ DocOps Gherkin

image::icons/GherkinIcon.svg[Gherkin Icon,80,80]

[[top]]

[.back-to-top]
<<top, ðŸ”>>

== Introduction

_BDD test scenarios with visual Given-When-Then formatting_

*Key features:*

* Plain Gherkin text or JSON format support
* Feature, Scenario, and Step visualization with distinct icons
* Status indicators (PASSING, FAILING, PENDING, SKIPPED)
* Dark mode for presentations
* Custom themes via JSON (colors, layout, typography)


[.back-to-top]
<<top, ðŸ”>>

== Default Example

Standard Gherkin syntax for authentication scenarios:

[source,asciidoc]
....
[docops,gherkin,controls=true]
----
Feature: User Authentication
  Scenario: Successful Login
    Given the user is on the login page
    When they enter valid credentials
    Then they should be redirected to dashboard
    And the login attempt should be logged

  Scenario: Failed Login
    Given the user is on the login page
    When they enter invalid credentials
    Then they should see an error message
    And they should remain on the login page
----
....

[docops,gherkin,controls=true]
----
include::data/gherkin/gherkin1.feature[]
----

[.back-to-top]
<<top, ðŸ”>>

== Focused Examples

=== Shopping Cart with Multiple Steps

E-commerce discount application logic:

[source,asciidoc]
....
[docops,gherkin,controls=true]
----
Feature: Shopping Cart Discounts
  Scenario: Apply Coupon and Member Discount
    Given a logged-in shopper with items in the cart
    And they have a valid 10% coupon
    When they apply the coupon at checkout
    Then the subtotal should reflect a 10% discount
    And the member discount should be applied afterwards
    But the total should not go below $0.00

  Scenario: Expired Coupon Rejected
    Given a guest user on the checkout page
    When they enter an expired coupon code
    Then they should see an error explaining the coupon is expired
    And the cart total should remain unchanged
----
....

[docops,gherkin,controls=true]
----
include::data/gherkin/gherkin2.feature[]
----

[.back-to-top]
<<top, ðŸ”>>

=== Dark Mode Presentation

Search feature with dark theme:

[source,asciidoc]
....
[docops,gherkin,controls=true,useDark=true]
----
Feature: Search Suggestions
  Scenario: Show Suggestions While Typing
    Given a user is on the search page
    When they type the first three characters
    Then the top 5 matching suggestions should appear
    And selecting a suggestion should populate the input
----
....

[docops,gherkin,controls=true,useDark=true]
----
include::data/gherkin/gherkin4.feature[]
----

[.back-to-top]
<<top, ðŸ”>>

== Common Use Cases

* *BDD documentation* - Embed .feature files directly into technical specs
* *Test scenario reviews* - Share acceptance criteria with stakeholders
* *API behavior specs* - Document endpoint behavior with Given-When-Then
* *Compliance testing* - Audit trails for regulatory requirement validation
* *Onboarding docs* - Show new developers how features are tested

[.back-to-top]
<<top, ðŸ”>>

== Format Options

=== Plain Gherkin Text
[source,asciidoc]
....
[docops,gherkin]
----
Feature: Feature Name
  Scenario: Scenario Name
    Given initial context
    When action occurs
    Then expected result
----
....

=== JSON with Status Indicators
[source,asciidoc]
....
[docops,gherkin]
----
{
  "feature": "User Authentication",
  "scenarios": [
    {
      "title": "Failed Login",
      "status": "FAILING",
      "steps": [
        { "type": "GIVEN", "text": "the user is on the login page", "status": "PASSING" },
        { "type": "WHEN", "text": "they enter invalid credentials", "status": "FAILING" },
        { "type": "THEN", "text": "they should see an error message", "status": "PENDING" }
      ]
    }
  ],
  "theme": {
    "colors": { "passing": "#28a745", "failing": "#dc3545" }
  }
}
----
....

[docops,gherkin]
----
include::data/gherkin/gherkin5.json[]
----

=== Data Tables (Experimental)
[source,asciidoc]
....
[docops,gherkin]
----
Scenario Outline: eating
  Given there are <start> cucumbers
  When I eat <eat> cucumbers
  Then I should have <left> cucumbers

  Examples:
    | start | eat | left |
    |    12 |   5 |    7 |
    |    20 |   5 |   15 |
----
....

[docops,gherkin]
----
Scenario Outline: eating
  Given there are <start> cucumbers
  When I eat <eat> cucumbers
  Then I should have <left> cucumbers

  Examples:
    | start | eat | left |
    |    12 |   5 |    7 |
    |    20 |   5 |   15 |
----

[.back-to-top]
<<top, ðŸ”>>

== Status Types

[cols="1,2,2"]
|===
|Status |Color |Use When

|PASSING
|Green (#28a745)
|Test step executes successfully

|FAILING
|Red (#dc3545)
|Test step encounters errors

|PENDING
|Yellow (#ffc107)
|Test step not yet implemented

|SKIPPED
|Gray (#6c757d)
|Test step bypassed due to failure
|===

[.back-to-top]
<<top, ðŸ”>>

== Step Keywords

* *Given* - Initial context or preconditions (blue)
* *When* - Action or event that triggers behavior (orange)
* *Then* - Expected outcome or assertion (green)
* *And* - Additional step in same category (gray)
* *But* - Exception or negative condition (gray)

[.back-to-top]
<<top, ðŸ”>>

== Best Practices

* *Keep steps atomic* - One action or assertion per step for clarity
* *Use AND for lists* - Chain related preconditions without repeating Given/When/Then
* *Include edge cases* - Show both happy path and error scenarios
* *Embed .feature files* - Use `include::` to maintain single source of truth
* *Reserve JSON for status* - Plain text for initial specs, JSON for CI/CD test reports
* *Limit table columns* - Data tables have width constraints (3-4 columns max)

[TIP]
====
*For CI/CD integration:* Parse test results into JSON format with status indicators. This creates living documentation where passing/failing states sync with your test suite automatically.
====

[.back-to-top]
<<top, ðŸ”>>